# Environment Configuration for AI Exploratory Agent

# LLM Configuration
LLM_PROVIDER=openai
OPENAI_API_KEY=sk-your-key-here
LLM_MODEL=gpt-4-turbo

# LLM Fallback & Circuit Breaker Configuration
# Comma-separated list of fallback providers (tried in order if primary fails)
LLM_FALLBACK_PROVIDERS=gemini,anthropic

# Circuit Breaker Configuration (for resilience and fallback management)
# Enable circuit breaker for automatic provider failover (default: true)
ENABLE_LLM_CIRCUIT_BREAKER=true
# Number of failures before opening circuit (default: 5)
LLM_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
# Time in milliseconds before retrying a failed provider (default: 60000 = 1 minute)
LLM_CIRCUIT_BREAKER_RESET_MS=60000
# Number of successes in half-open state before closing circuit (default: 2)
LLM_CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2

# Alternative LLM providers (uncomment to use)
# LLM_PROVIDER=gemini
# GEMINI_API_KEY=your-gemini-api-key-here
# LLM_MODEL=gemini-2.5-flash-lite

# LLM_PROVIDER=anthropic
# ANTHROPIC_API_KEY=your-anthropic-api-key-here
# LLM_MODEL=claude-3-haiku-20240307

# Browser Configuration
HEADLESS=true
BROWSER_TIMEOUT=30000
SCREENSHOT_DIR=./screenshots

# Exploration Configuration - ExplorationService
TARGET_URL=https://with-bugs.practicesoftwaretesting.com
MAX_STEPS=50
CHECKPOINT_INTERVAL=50
PROGRESS_SUMMARY_INTERVAL=5
STEP_TIMEOUT=30000
NAVIGATION_WAIT_TIME=2000
MIN_CONFIDENCE_THRESHOLD=0.6
CHECKPOINT_ON_TOOL_FINDINGS=false
ENABLE_PERSONAS=true
MAX_SUGGESTIONS_PER_PERSONA=3

# Action Loop Detection Configuration
# Maximum number of times the same action can be repeated before forcing an alternative (default: 2)
# This prevents the agent from getting stuck in repetitive loops like clicking the same button repeatedly
ACTION_LOOP_MAX_REPETITIONS=2

# Individual Persona Configuration (only used if ENABLE_PERSONAS=true)
ENABLE_SECURITY_PERSONA=true
ENABLE_MONITOR_PERSONA=true
ENABLE_VALIDATION_PERSONA=true
ENABLE_CHAOS_PERSONA=true
ENABLE_EDGE_CASE_PERSONA=true

# Page Exploration Context Configuration
MAX_ACTIONS_PER_PAGE=100
MAX_TIME_PER_PAGE=60000
MIN_ELEMENT_INTERACTIONS=3
EXIT_AFTER_BUGS_FOUND=100
ENABLE_SEMANTIC_MATCHING=true

# Report Configuration
REPORT_DIR=./reports
